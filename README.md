# Общий ход планирования и анализа дней
## Утро
С помощью какой-то [утилиты](#DayBegin) создается каркас заметки, посвященной сегодняшнему (или любому другому - аргумент командной строки) дню. В каркас включается список дел на день (импортируется из `todo.txt`) и предустановленные разделы.
## День
По ходу дня задачи помечаются как выполненные (*это еще надо обдумать*), записываются всякие разные заметки, мысли, и т.п. Поскольку эта временная заметка лежит в папке облачной синхронизации, то работать с ней можно с любого устройства (в принципе, даже с телефона, при наличии `Markdown`-редактора).
## Вечер
Подводятся итоги дня, совершается запись "*Триста букв*".
С помощью какой-то [другой утилиты](#DayEnd) `Markdown`-заметка разбирается и рендерится в `html` с учетом требований к оформлению заметки в `Evernote` (цвета, названия классов и т.п.). Затем отрендеренная заметка включается в шаблон `enex`-файла и копируется в папку автоимпорта, откуда `Evernote` заберет ее самостоятельно.

# Скрипт для создания обзоров дня в Evernote
Поскольку нормально в EN импортируются, похоже, только enex-файлы, то задача разбивается на следующие куски:
## <a name="DayBegin"></a>Создание дня (заметка markdown во временной папке):
1. **Определить текущую дату.** Использовать формат `yyyy-mm-dd`. Дата понадобится для извлечения строк из файла `todo.txt` и для заполнения шапки файла импорта в `Evernote`.
1. **Извлечь дела на сегодня из `todo.txt`.** Получить список дел + сортировать его по алфавиту, тогда дела с наивысшим приоритетом будут в верху списка. Подставить их как ненумерованный список в верхнюю секцию создаваемого файла.
1. **Создать дальнейшую структуру заметки.** Разделы "*Триста букв*", "*События и результаты*".
1. **Сохранить заметку md в папку синхронизации `Dropbox`.** Работать с ней в этой папке (редактор `Atom`), чтобы иметь возможность в любой момент сохранить ее в облаке.

## <a name="DayEnd"></a>Закрытие дня (создание enex в папке автоимпорта):
1. **Создать шапку файла заметки.** Единственная тонкость - подставить в заголовок текущую дату (или взять ее из имени файла - это проще?) и определить по ней день недели. Сформулировать заголовок заметки.
1. **Сконвертировать `md` в 'html'.** Нужно обязательно учесть все требования `Evernote` к внешнему виду заметки. Подставить нужные имена классов, пустые чекбоксы и т.п.
1. **Завернуть `html` в шаблон заметки `enex`.**
1. **Переместить заметку в папку автоимпорта.**

# Выбор платформы
Сначала хотел использовать node.js, потом подумал о PowerShell, в конечном итоге решил остановиться на C#. Причины:
* Преобладание Windows на моих устройствах (для работы скриптов/утилит). Для непосредственной работы с текстовыми файлами заметок ОС не принципиальна.
* Удобная (знакомая) работа с файлами из C#, чего не скажешь ни о node.js, ни о PowerShell.
* Независимость итогового продукта (не требуется установка доп.компонент вроде модулей node.js)

